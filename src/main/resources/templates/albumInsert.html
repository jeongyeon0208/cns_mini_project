<a href="/" class="home-button">홈으로</a>
<form action="/album/insert" method="POST">
  <label for="albumName">앨범명:</label>
  <input type="text" id="albumName" name="albumName" required><br><br>

  <label for="titleSong">대표곡:</label>
  <input type="text" id="titleSong" name="titleSong" required><br><br>

  <label for="releaseDate">발매 날짜:</label>
  <input type="date" id="releaseDate" name="releaseDate" required><br><br>

  <label for="genre">장르:</label>
  <input type="text" id="genre" name="genre" required><br><br>

  <label for="artist">아티스트:</label>
  <input type="text" id="artist" name="artist" required><br><br>

  <h3>수록곡</h3>
  <table id="songTable">
    <thead>
    <tr>
      <th>트랙 번호</th>
      <th>곡명</th>
      <th>곡 가사</th>
      <th>곡 장르</th>
      <th>길이</th>
      <th>아티스트</th>
    </tr>
    </thead>
    <tbody>
    <tr>
      <td><input type="number" name="songList[0].songTrackNumber" value="1" readonly></td>
      <td><input type="text" name="songList[0].songName" placeholder="곡명" required></td>
      <td><input type="text" name="songList[0].songLyrics" placeholder="곡 가사" required></td>
      <td><input type="text" name="songList[0].songGenre" placeholder="곡 장르" required></td>
      <td><input type="text" name="songList[0].songLength" placeholder="길이" required></td>
      <td><input type="text" name="songList[0].artist" placeholder="아티스트" required></td>
    </tr>
    </tbody>
  </table>

  <button type="button" onclick="addSongRow()">+</button><br><br>

  <button type="submit">앨범 등록</button>
</form>

<script>
  let trackNumber = 2;  // 트랙 번호 자동 증가

  function addSongRow() {
    const newRow = document.createElement("tr");
    newRow.innerHTML = `
            <td><input type="number" name="songList[${trackNumber - 1}].songTrackNumber" value="${trackNumber}" readonly></td>
            <td><input type="text" name="songList[${trackNumber - 1}].songName" placeholder="곡명" required></td>
            <td><input type="text" name="songList[${trackNumber - 1}].songLyrics" placeholder="곡 가사" required></td>
            <td><input type="text" name="songList[${trackNumber - 1}].songGenre" placeholder="곡 장르" required></td>
            <td><input type="text" name="songList[${trackNumber - 1}].songLength" placeholder="길이" required></td>
            <td><input type="text" name="songList[${trackNumber - 1}].artist" placeholder="아티스트" required></td>
        `;
    document.querySelector("#songTable tbody").appendChild(newRow);
    trackNumber++;
  }
</script>